<mvc:View controllerName="sap.support.sccd.controller.Project"
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:commons="sap.suite.ui.commons"
	xmlns:viz="sap.viz.ui5.controls"
	xmlns:viz.data="sap.viz.ui5.data"
	xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds">

	<commons:ChartContainer
		id="cc_project_case"
		showFullScreen="true"
		showPersonalization="false"
		autoAdjustHeight="true"
		showSelectionDetails="false">
		<commons:toolbar>
			<OverflowToolbar id="appToolbar">
				<Button icon="sap-icon://nav-back" type="Transparent" press="navBack"/>
				<ToolbarSpacer/>
				<Title text="{/0/pid}" />
				<ToolbarSpacer/>
				<commons:ChartContainerToolbarPlaceholder/>
			</OverflowToolbar>
		</commons:toolbar>	
		<commons:content>
			<commons:ChartContainerContent
				icon="sap-icon://horizontal-stacked-chart"
				title="{i18n>tooltipChartView}">
				<commons:content>
					<viz:Popover id="po_project_case" />
					<viz:VizFrame
						id="vf_project_case"
						height="100%"
						width="100%"
						vizType="stacked_combination"
						vizProperties="{
							title: {
								visible: false
							},
							plotArea: {
								colorPalette: ['sapUiChartPaletteQualitativeHue1', '#bb0000', '#b6d957'],
								dataLabel: {
									visible: true,
									showTotal: true
								},
								dataShape: {
									primaryAxis: ['line', 'bar', 'bar']
								}
							},
							categoryAxis: {
		                        title: {
		                            visible: true
		                        }
		                    },
							interaction: {
								selectability: {
									mode: 'single'
								}
							}
						}"
						uiConfig="{applicationSet:'fiori'}">
						<viz:dataset>
							<viz.data:FlattenedDataset data="{/}">
								<viz.data:dimensions>
									<viz.data:DimensionDefinition
										name="Date"
										value="{
											path: 'timestamp',
											formatter: '.Formatter.dateAxis'
										}"
										dataType="date"/>
								</viz.data:dimensions>
								<viz.data:measures>
									<viz.data:MeasureDefinition name="Assertion" value="{assertion}"/>
									<viz.data:MeasureDefinition name="Passed" value="{passed}"/>
									<viz.data:MeasureDefinition name="Failed" value="{failed}"/>
								</viz.data:measures>
							</viz.data:FlattenedDataset>
						</viz:dataset>
						<viz:feeds>
							<viz.feeds:FeedItem uid="categoryAxis" type="Dimension" values="Date" />
							<viz.feeds:FeedItem uid="valueAxis" type="Measure" values="Assertion,Failed,Passed" />
						</viz:feeds>
					</viz:VizFrame>
				</commons:content>
			</commons:ChartContainerContent>			
		</commons:content>
	</commons:ChartContainer>

</mvc:View>